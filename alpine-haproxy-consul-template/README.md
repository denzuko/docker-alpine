Based on https://github.com/SirIle/miniboxes/blob/master/minihaproxy via blog post https://sirile.github.io/2015/05/18/using-haproxy-and-consul-for-dynamic-service-discovery-on-docker.html
